function countTrees(layers, right, down) {
  return layers.reduce((count, layer, i) => {
    if (down > 1 && i % down > 0) {
      return count;
    }
    const idx = i / down;
    const leftIndex = idx * right;
    const layerIndex =
      leftIndex >= layer.length ? leftIndex % layer.length : leftIndex;
    return layer.charAt(layerIndex) === "#" ? count + 1 : count;
  }, 0);
}

function getPart1Answer(slope) {
  const layers = slope.split("\n");
  return countTrees(layers, 3, 1);
}

function getPart2Answer(slope) {
  const layers = slope.split("\n");
  const count1 = countTrees(layers, 1, 1);
  const count2 = countTrees(layers, 3, 1);
  const count3 = countTrees(layers, 5, 1);
  const count4 = countTrees(layers, 7, 1);
  const count5 = countTrees(layers, 1, 2);
  return count1 * count2 * count3 * count4 * count5;
}

const slopeSet = `...#....#.#...##......#.#...##.
.#..#...##..#....##........##..
..##.##...##.#.#....#..#......#
....#....#..#..#.#....#..###...
####.....##.#.##...##..#....#..
#........##...#..###..#.#.#.##.
.......###........##...#...#...
#.#...#..#..#...#...##.##......
..#...........#......##.#.#....
#..#.#......##.#...#..#.#..#...
.#....#....#..#.....#..###..#.#
.##....................#.###.#.
..#......#.#......#..###.......
#.###..##..###....#........#..#
.....#...#.......#.#.#...#....#
....##..#.##..#.##..#.#....#...
.#..#..#......#..##.#.#....##.#
.....#.....#.##...#.#.##.#.....
.#...#..##.....#.........#.#...
.....#........#........#..#..#.
#......##....#..#.#...#...#....
#......#.#.......##.#..#.#.#...
...###...##.#..........#...#...
...#.##...#......#.##....#.#...
#...#.....#........#..#....##.#
##.#....##...##.####.##.......#
..#..#...#.#.......#.##.#......
##.........#.##....#.#...#.....
##..#......#....#.....#...#....
......##.#.#.....#.#.###...#...
##.......#......#.#..#...#.##..
#....#....#..#.#..#.#..........
...#....#.#.#.#.....##.#..#.##.
......#.#.#....#...##.#..#.....
..##..#.##....#...#.....#..#.##
.#...#.#.##..##........#.#...#.
##.##.##....#.#....##.###......
#...........#....##..#......#..
...##..#.....#....#....#.#..##.
.#..#.##..##..#.........#.....#
.##......##.#.#......##....#...
.....##.#....#...#...........##
..#.....#..##...#.#..#.........
...#.####..#.###.....#.....##..
.....#..##..#.###........#.#...
#..#.#.....#.....#...#...#....#
.#...........#..#.........##...
...#.#.#.......#..............#
.##.#..#...#........#.##.#.#.#.
....#....#.......#......#.#....
##.#..##.....##..#...#....#..#.
#.........#.#..###...#....#..#.
....##.###...#........##...#.##
.#...#..##.##...........##...##
.....#.##........#.#.......##..
.....#......#..#..#...#.#...#..
.....#.....#.#..#.###......####
........#.......#...........#..
...#.##..#....######..#.#...#..
#...##...####..##.....##...#...
.#.......#.###..#.##..#..#.#.#.
....#..#....##.....#........#.#
.#..#....##..#........#...#...#
#.#..#.#...##...#..........#.#.
##.####....##....#...##.####...
..##......##....#.....#...#..#.
...#......#..#...#..#.#....#.#.
......#...#....##....#.##......
.##...#.........####..#....#..#
...#..#.#......#.....#.#.#.#...
...........#.......#........##.
#.#....#....#.##.#...#...#.#...
#..#.....#..#..#.#...#........#
.....#.#.##...#............#.##
..#.#.#...#...#..###.#.....#...
....#.....##.......#......#....
.#.#....#.##......##.#.#.....#.
.....#.##.....#.#...#....#....#
...#.......#..#.#.###.#.###....
.#...#..#..#....#...###.#.##...
.#....#........#..........##...
##.#......#..#.#..........#.#..
...#..#.......#.##..###....#.#.
.#.....#..........#..#.........
...##...##.#.......#..#....#...
.....#.##....#.#.#...#.......#.
...#.#..#.#.......#.....##..#..
.#.#.......#.#..........#...#.#
#........#...#....###.#...#....
..##....#.#.#.....###.#.#......
..#.....#.#...#.#.....#.#......
.#.....##......#....##.#.#....#
...##..........#.#####...#..#..
#....#......##.............#...
......#.....#...##..#.#....#..#
..###.#.###.#.##.#.##..#.....#.
#...#....#.#....#..##...#...#.#
...#....#...#.#......#......#..
#......#.....#.#..#........#...
...##...##...##..###...###.#...
#..#...#...#.....#..###...##...
.#.....#.......#....#....##....
......#......##.#.#......#.#...
..#....#.#..........#..#...#..#
###...#..............#.........
.###.##..#.#..#.....#.#.##....#
..#......#.##....##......#....#
.##....###.#..#.#.............#
..##..#..#.#.#....#..##.#..#..#
##.#.....##...#..#...#..#.#.#..
.#.#..............#.#...#......
#....##...#....#..#...#........
...#..#..#.#........#..#..#..##
...##.#.#.#....#.......#....#..
.##.#......#.##........#...##..
.#.##..#.....###..#.#......#..#
#....#..#......#....##...#..#.#
..##....#.##...#..#.##....##..#
#....#..#...#.......#...#......
#.#......#....#.#..............
..##..#..#.#.......#.#.#...##..
...##.##......#..#.##.#.......#
.##.........#............#.#...
........#...#.....#....#....#..
#....##...#........#......##...
.###....#..#.#......#....#.#...
#.#...........#...#....#..#.#.#
.#....##.###...#.##....##..#..#
........#.............#.#...#.#
#.##..#.##....##.......#.......
.#.....#..#.##..##.....#.......
....#.#......#.#.............#.
..#.#.......#...#......##..#...
......##..###....##.#.###..##.#
..#..#.##...#...#....#.##..#..#
#.##...##.##.#.#........#......
...#.#.......##....#.......#...
.#....#.##.#..#.......#.....##.
#..#...##.####..###.....#......
..#...##...#...#.#......#...#.#
.##.##.#...#.....#.##..##......
.#...#.#.##.###..#...#...#.....
.#..##..#....##.##....##....##.
..#...##....#..###........##...
.#..#..#.#....#.#...#.#......#.
.##.....#...#..#..#..#...###...
.#...#....#..#...........###...
.....#...........##.#......#...
.....#....##......##..#.#......
.#.#..#..#...#.#..#..##..#.#...
..#..#####.#..#.#.#.....#.#....
#......#.##.#......#.#......#..
.#...............#..#.#.......#
...##...##.....##.##......#..##
#.......##.#...........#....#..
#...##.#...#.#..#..###...##....
#..##..#..#......#.#...###..#.#
.#.#..###.##..##.....#.........
##.#..##.#..........#.......#..
.###..##....##..#..#...##......
........#..##.##....#....#.....
.....#.#.#........#...#....#.#.
..#..#.#.....#.##....##........
...#....................#....#.
..#....#..###.##......#..#.#.##
.....#.#....#......#...#......#
###...##.......#.#.#.....#....#
..#..###.##..#..#....##.......#
#...#.###..#...#.##..##........
..#..#....#...........##..#....
.#............##..#...##.#..#..
.#.......#.#.........##..#..#..
....#.###.#...##....#.#.##.....
#.......#........#..#.##......#
#.....###....#....#..#....#....
...........#...#........#.....#
..##...#...#.##...##.#.#..#...#
##.##..#.......##..........#..#
............#.....#...#..#....#
.....#.#......#...#..#.#...#..#
............##.##.....##...#..#
##.#..#..#.#......#......#..##.
..#..#.........#...#..#.#.#....
#..#........#.......###.#......
...#.#.#....#......#.#...#.....
#...............#...#......##..
###.#...#......##.....#..##.##.
#.##...##.......###.##.........
.#.#.........#..#.....#........
..##..#............#.....#...##
......###...#.#...#..#...##....
#.........#.#.##.........##....
.#....##....#....##....#.##....
.#...##.#...#.......#...#....##
#................#......##.....
##..#......#.#.........##...##.
...#.#.#...#..#..##..#....#.#..
.##........#.#......##...#..#..
...##....#.#.....##..#.........
........###.#.#....###.##.#....
.............#....###.#..#.#...
.#...........##....#...#.......
#..#.......#.....##..#.........
..#.#..#....##...##.#.......#.#
#.###.#.........#..#.........#.
.......#.........##....##.#..##
.##...###..........#....#.#..##
.#.....#......##..#...#........
##..#..###........#.......#....
........#...#.##...........#.#.
.....#..#..###.............#..#
...######.##.....#...#......#..
.#...#....###...###......#.##..
...##.####.........#...#...##..
..##....#.......#.....#..#.....
#.##....#.#........#.....##....
.....#.#.###...........#...##.#
.............###........#......
...#..#...##.#....#..##.#.....#
....#.#.....#...#......###..##.
........#.......#..#...........
....#.#...#......#.#.....###...
..#.............####.##.....#..
..........#...#.#..............
..#.#...........#.#..##...##..#
.......#...#........#..##....##
#...#.....#.#.##...#.#.#...#..#
.....#..#....#.###.#.....#.#..#
....#.#.#...#.................#
#..#........##.###....#....#...
..##...##..............##....#.
...#.#...#.#...##........#...#.
##..##.#..#.#.#..#.#...#.#.#.##
..#.#..#....#..#.###.........#.
..#.....#..#..#........#.......
...#...#......##...###.....##..
#....#.##.....#.##..##..#..#...
......##..#.#.#..#.###...#...#.
.##.....##............#.#......
..#.#........##....#..#.####.#.
.#....###..#.......#...........
##...........#..#...#.....#.#..
.#..#....#..#....#.#.........#.
.#.###....#.....##.....##......
.#.#.......#.......#.###.#...#.
...###..#..#....#..####.##....#
..........##...#...#...........
.#.....#.#..##..##...##..#.....
##.......#.#...#..###..#..##...
..#.##......###..#........#..##
....###...#..........#.#..#.#..
#..#.#..##.......##....#.#..##.
.#...#...#..#....#...###.......
.##.#.#.#.....#.....#.#.#.....#
...##.#.....#..#.#...#.####.#..
#...##.....####..#.###.##..#.##
..###..##....#####......##.....
###..............#.#..........#
#...##......##....#...#..##..#.
.#..#...#....##.##.....#....##.
...#.#...#..#..#.......#.##....
.#...#..#.......#.##.#..#...#.#
.#..#.##...#...#.............#.
.#.#.#....##..#.#.#.#.#......##
..#....#.#...##.##.#...#.#.#.#.
...#..#..##.........##..#.....#
....#..........#.#.......#.....
........#....#.#..#.....#.#.#..
.#...#.......#..#.##.........#.
##......#.....#...........#.#..
....#....##...#..#####.####...#
.....##....#....#..#.....#..##.
.#...#.#..###....#......#...#..
.#.#.#.#.....##..........#....#
...#.....#.....#..#............
...#.#..#.....#.............#..
......#....#.#.....#.##...#..#.
...#....#.#...##..#....###.....
...#..#............##...##.##..
..#....#..............#.....#..
.#..#.......#.#.##......#.###..
..#...#.........#..#.....#.....
#..........#.....##............
##.#.#.#....##......#..#....#.#
.#..#.....#.#..#.....#..##.....
...#.#.....#..#..#..#.##.###...
...##.#.....#.....#.......#....
.....................##.#...#..
...#.#...#...#...###..#..#.#...
#....##..###.#...##.#......#..#
.##...##..##...##......##.#....
............#.....#.##.#.##.#.#
.#...##.#..........###......#..
.....##.....##....#.#....##..#.
...#....#.....#....#.....#.#...
................##.#...#....##.
#..###.......#......###......#.
###..#.........#.#.#.....#....#
..#.#......#....#.#......##...#
#...#......#.#.#.#..#...#..###.
.#...#..#...##..#...##....###..
#.#.#.#..###................#.#
...#.####....##.#.....#..#.....
#.#...##..#.#...###.#..#...#...
#..####........#.#..#...##..##.
..#..###..#..........##.###...#
.....#..###.#.#....#....##....#
.###..#.#.#....#...##.......##.
#..#..........#...............#
.#.#...#.....#.###..##......##.
#...#...#...##...##.....##..#..
.....##..###...........#.......
........###..##........#..##..#
#....#...##..##..#.#.#.###...#.
.#..#......##.#..#...#.........
.#....#.##.....................
#.##.##...........#.####..#....
......##....#..#.....#.#....#..
....##.#........#.#.#.#.#..#..#
.#..##..##..#.....#...#.#.....#
...#..#.#.....#..#..##....##..#
..#....#.....#........#.....#..
#.#.#..#..#.#..#...###.#.#....#`;

console.log("Part 1 Answer", getPart1Answer(slopeSet));
console.log("Part 2 Answer", getPart2Answer(slopeSet));
